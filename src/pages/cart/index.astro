---
import EmptyLayout from '../../layouts/EmptyLayout.astro'
import Cart from '../../components/Cart/Pages.vue'
import type { ClubsPropsPages, Membership } from '@devprotocol/clubs-core'
import type { ComposedItem, GlobalConfig, HomeConfig } from '../../types.ts'
import type { SectionOrderingValue } from '../../index.ts'
import type { CheckoutFromPassportOffering } from '@devprotocol/clubs-plugin-passports'
import { LoadLibrary } from '@devprotocol/clubs-plugin-payments/components'

const langs = Astro.request.headers.get('accept-language')?.split(',') ?? ['en']

type Props = ClubsPropsPages & {
	memberships?: Membership[]
	homeConfig: HomeConfig
	name: string
	sectionsOrderConfig: SectionOrderingValue
	clubsPaymentsOverrides: ComposedItem[]
	globalConfig: GlobalConfig
	passportOfferingsWithComposedData: CheckoutFromPassportOffering
	base: string
}
---

<Cart
	client:load
	langs={langs}
	globalConfig={Astro.props.globalConfig}
	passportOfferingsWithComposedData={Astro.props
		.passportOfferingsWithComposedData}
	base={Astro.props.base}
>
	<div slot="akiba:checkout:result:after-heading">
		<slot name="akiba:checkout:result:after-heading">
			<button
				class="w-auto rounded-full bg-black px-5 py-2 text-sm font-medium text-white transition-colors hover:bg-gray-800 disabled:cursor-not-allowed disabled:opacity-60 sm:text-base"
			>
				Edit my Passport
			</button>
		</slot>
	</div>
</Cart>
