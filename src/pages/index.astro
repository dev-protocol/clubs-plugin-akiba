---
import type { Membership } from '@devprotocol/clubs-core'
import { type ClubsPropsPages } from '@devprotocol/clubs-core'
import type { CheckoutFromPassportOffering } from '@devprotocol/clubs-plugin-passports'

import type { SectionOrderingValue } from '..'
import Home from '../components/Home/Pages.vue'
import type { CategoriesConfig, ComposedItem, HomeConfig } from '../types'

type Props = ClubsPropsPages & {
	memberships?: Membership[]
	homeConfig: HomeConfig
	name: string
	sectionsOrderConfig: SectionOrderingValue
	clubsPaymentsOverrides: ComposedItem[]
	passportOfferingsWithComposedData: CheckoutFromPassportOffering
	categories: CategoriesConfig
}

const {
	homeConfig,
	passportOfferings,
	passportOfferingsWithComposedData,
	categories,
} = Astro.props

const langs = Astro.request.headers.get('accept-language')?.split(',') ?? ['en']
---

<Home
	client:load
	homeConfig={homeConfig}
	langs={langs}
	passportOfferingsWithComposedData={passportOfferingsWithComposedData}
	categories={categories}
/>
