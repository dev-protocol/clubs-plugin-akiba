---
import type { Membership } from '@devprotocol/clubs-core'
import { type ClubsPropsPages } from '@devprotocol/clubs-core'

import type { SectionOrderingValue } from '..'
import type { ComposedItem, HomeConfig } from '../types'
import type { PassportItemData } from '../types.ts'
import Home from '../components/Home/Pages.vue'

type Props = ClubsPropsPages & {
	memberships?: Membership[]
	homeConfig: HomeConfig
	name: string
	sectionsOrderConfig: SectionOrderingValue
	clubsPaymentsOverrides: ComposedItem[]
	passportOfferings: PassportItemData[]
}

const {
	memberships,
	homeConfig,
	name,
	clubs,
	sectionsOrderConfig,
	clubsPaymentsOverrides,
	passportOfferings,
} = Astro.props
const langs = Astro.request.headers.get('accept-language')?.split(',') ?? ['en']
---

<Home
	client:load
	passportOfferings={passportOfferings}
	homeConfig={homeConfig}
	langs={langs}
/>
